// data/countries.js
// Liste compl√®te des pays avec codes t√©l√©phoniques
// Noms normalis√©s : Premi√®re lettre majuscule, reste minuscule

export const countries = [
  { name: "Afghanistan", code: "AF", phone: "+93", flag: "üá¶üá´" },
  { name: "Albanie", code: "AL", phone: "+355", flag: "üá¶üá±" },
  { name: "Alg√©rie", code: "DZ", phone: "+213", flag: "üá©üáø" },
  { name: "Allemagne", code: "DE", phone: "+49", flag: "üá©üá™" },
  { name: "Andorre", code: "AD", phone: "+376", flag: "üá¶üá©" },
  { name: "Angola", code: "AO", phone: "+244", flag: "üá¶üá¥" },
  { name: "Antigua-et-Barbuda", code: "AG", phone: "+1", flag: "üá¶üá¨" },
  { name: "Arabie saoudite", code: "SA", phone: "+966", flag: "üá∏üá¶" },
  { name: "Argentine", code: "AR", phone: "+54", flag: "üá¶üá∑" },
  { name: "Arm√©nie", code: "AM", phone: "+374", flag: "üá¶üá≤" },
  { name: "Australie", code: "AU", phone: "+61", flag: "üá¶üá∫" },
  { name: "Autriche", code: "AT", phone: "+43", flag: "üá¶üáπ" },
  { name: "Azerba√Ødjan", code: "AZ", phone: "+994", flag: "üá¶üáø" },
  { name: "Bahamas", code: "BS", phone: "+1", flag: "üáßüá∏" },
  { name: "Bahre√Øn", code: "BH", phone: "+973", flag: "üáßüá≠" },
  { name: "Bangladesh", code: "BD", phone: "+880", flag: "üáßüá©" },
  { name: "Barbade", code: "BB", phone: "+1", flag: "üáßüáß" },
  { name: "Belgique", code: "BE", phone: "+32", flag: "üáßüá™" },
  { name: "Belize", code: "BZ", phone: "+501", flag: "üáßüáø" },
  { name: "B√©nin", code: "BJ", phone: "+229", flag: "üáßüáØ" },
  { name: "Bhoutan", code: "BT", phone: "+975", flag: "üáßüáπ" },
  { name: "Bi√©lorussie", code: "BY", phone: "+375", flag: "üáßüáæ" },
  { name: "Birmanie (Myanmar)", code: "MM", phone: "+95", flag: "üá≤üá≤" },
  { name: "Bolivie", code: "BO", phone: "+591", flag: "üáßüá¥" },
  { name: "Bosnie-Herz√©govine", code: "BA", phone: "+387", flag: "üáßüá¶" },
  { name: "Botswana", code: "BW", phone: "+267", flag: "üáßüáº" },
  { name: "Br√©sil", code: "BR", phone: "+55", flag: "üáßüá∑" },
  { name: "Brunei", code: "BN", phone: "+673", flag: "üáßüá≥" },
  { name: "Bulgarie", code: "BG", phone: "+359", flag: "üáßüá¨" },
  { name: "Burkina Faso", code: "BF", phone: "+226", flag: "üáßüá´" },
  { name: "Burundi", code: "BI", phone: "+257", flag: "üáßüáÆ" },
  { name: "Cambodge", code: "KH", phone: "+855", flag: "üá∞üá≠" },
  { name: "Cameroun", code: "CM", phone: "+237", flag: "üá®üá≤" },
  { name: "Canada", code: "CA", phone: "+1", flag: "üá®üá¶" },
  { name: "Cap-Vert", code: "CV", phone: "+238", flag: "üá®üáª" },
  { name: "Centrafrique", code: "CF", phone: "+236", flag: "üá®üá´" },
  { name: "Chili", code: "CL", phone: "+56", flag: "üá®üá±" },
  { name: "Chine", code: "CN", phone: "+86", flag: "üá®üá≥" },
  { name: "Chypre", code: "CY", phone: "+357", flag: "üá®üáæ" },
  { name: "Colombie", code: "CO", phone: "+57", flag: "üá®üá¥" },
  { name: "Comores", code: "KM", phone: "+269", flag: "üá∞üá≤" },
  { name: "Congo", code: "CG", phone: "+242", flag: "üá®üá¨" },
  { name: "R√©publique d√©mocratique du Congo", code: "CD", phone: "+243", flag: "üá®üá©" },
  { name: "Cor√©e du Nord", code: "KP", phone: "+850", flag: "üá∞üáµ" },
  { name: "Cor√©e du Sud", code: "KR", phone: "+82", flag: "üá∞üá∑" },
  { name: "Costa Rica", code: "CR", phone: "+506", flag: "üá®üá∑" },
  { name: "C√¥te d'Ivoire", code: "CI", phone: "+225", flag: "üá®üáÆ" },
  { name: "Croatie", code: "HR", phone: "+385", flag: "üá≠üá∑" },
  { name: "Cuba", code: "CU", phone: "+53", flag: "üá®üá∫" },
  { name: "Danemark", code: "DK", phone: "+45", flag: "üá©üá∞" },
  { name: "Djibouti", code: "DJ", phone: "+253", flag: "üá©üáØ" },
  { name: "Dominique", code: "DM", phone: "+1", flag: "üá©üá≤" },
  { name: "√âgypte", code: "EG", phone: "+20", flag: "üá™üá¨" },
  { name: "√âmirats arabes unis", code: "AE", phone: "+971", flag: "üá¶üá™" },
  { name: "√âquateur", code: "EC", phone: "+593", flag: "üá™üá®" },
  { name: "√ârythr√©e", code: "ER", phone: "+291", flag: "üá™üá∑" },
  { name: "Espagne", code: "ES", phone: "+34", flag: "üá™üá∏" },
  { name: "Estonie", code: "EE", phone: "+372", flag: "üá™üá™" },
  { name: "Eswatini", code: "SZ", phone: "+268", flag: "üá∏üáø" },
  { name: "√âtats-Unis", code: "US", phone: "+1", flag: "üá∫üá∏" },
  { name: "√âthiopie", code: "ET", phone: "+251", flag: "üá™üáπ" },
  { name: "Fidji", code: "FJ", phone: "+679", flag: "üá´üáØ" },
  { name: "Finlande", code: "FI", phone: "+358", flag: "üá´üáÆ" },
  { name: "France", code: "FR", phone: "+33", flag: "üá´üá∑" },
  { name: "Gabon", code: "GA", phone: "+241", flag: "üá¨üá¶" },
  { name: "Gambie", code: "GM", phone: "+220", flag: "üá¨üá≤" },
  { name: "G√©orgie", code: "GE", phone: "+995", flag: "üá¨üá™" },
  { name: "Ghana", code: "GH", phone: "+233", flag: "üá¨üá≠" },
  { name: "Gr√®ce", code: "GR", phone: "+30", flag: "üá¨üá∑" },
  { name: "Grenade", code: "GD", phone: "+1", flag: "üá¨üá©" },
  { name: "Guatemala", code: "GT", phone: "+502", flag: "üá¨üáπ" },
  { name: "Guin√©e", code: "GN", phone: "+224", flag: "üá¨üá≥" },
  { name: "Guin√©e-Bissau", code: "GW", phone: "+245", flag: "üá¨üáº" },
  { name: "Guin√©e √©quatoriale", code: "GQ", phone: "+240", flag: "üá¨üá∂" },
  { name: "Guyana", code: "GY", phone: "+592", flag: "üá¨üáæ" },
  { name: "Ha√Øti", code: "HT", phone: "+509", flag: "üá≠üáπ" },
  { name: "Honduras", code: "HN", phone: "+504", flag: "üá≠üá≥" },
  { name: "Hongrie", code: "HU", phone: "+36", flag: "üá≠üá∫" },
  { name: "Inde", code: "IN", phone: "+91", flag: "üáÆüá≥" },
  { name: "Indon√©sie", code: "ID", phone: "+62", flag: "üáÆüá©" },
  { name: "Irak", code: "IQ", phone: "+964", flag: "üáÆüá∂" },
  { name: "Iran", code: "IR", phone: "+98", flag: "üáÆüá∑" },
  { name: "Irlande", code: "IE", phone: "+353", flag: "üáÆüá™" },
  { name: "Islande", code: "IS", phone: "+354", flag: "üáÆüá∏" },
  { name: "Isra√´l", code: "IL", phone: "+972", flag: "üáÆüá±" },
  { name: "Italie", code: "IT", phone: "+39", flag: "üáÆüáπ" },
  { name: "Jama√Øque", code: "JM", phone: "+1", flag: "üáØüá≤" },
  { name: "Japon", code: "JP", phone: "+81", flag: "üáØüáµ" },
  { name: "Jordanie", code: "JO", phone: "+962", flag: "üáØüá¥" },
  { name: "Kazakhstan", code: "KZ", phone: "+7", flag: "üá∞üáø" },
  { name: "Kenya", code: "KE", phone: "+254", flag: "üá∞üá™" },
  { name: "Kirghizistan", code: "KG", phone: "+996", flag: "üá∞üá¨" },
  { name: "Kiribati", code: "KI", phone: "+686", flag: "üá∞üáÆ" },
  { name: "Kowe√Øt", code: "KW", phone: "+965", flag: "üá∞üáº" },
  { name: "Laos", code: "LA", phone: "+856", flag: "üá±üá¶" },
  { name: "Lesotho", code: "LS", phone: "+266", flag: "üá±üá∏" },
  { name: "Lettonie", code: "LV", phone: "+371", flag: "üá±üáª" },
  { name: "Liban", code: "LB", phone: "+961", flag: "üá±üáß" },
  { name: "Lib√©ria", code: "LR", phone: "+231", flag: "üá±üá∑" },
  { name: "Libye", code: "LY", phone: "+218", flag: "üá±üáæ" },
  { name: "Liechtenstein", code: "LI", phone: "+423", flag: "üá±üáÆ" },
  { name: "Lituanie", code: "LT", phone: "+370", flag: "üá±üáπ" },
  { name: "Luxembourg", code: "LU", phone: "+352", flag: "üá±üá∫" },
  { name: "Mac√©doine du Nord", code: "MK", phone: "+389", flag: "üá≤üá∞" },
  { name: "Madagascar", code: "MG", phone: "+261", flag: "üá≤üá¨" },
  { name: "Malaisie", code: "MY", phone: "+60", flag: "üá≤üáæ" },
  { name: "Malawi", code: "MW", phone: "+265", flag: "üá≤üáº" },
  { name: "Maldives", code: "MV", phone: "+960", flag: "üá≤üáª" },
  { name: "Mali", code: "ML", phone: "+223", flag: "üá≤üá±" },
  { name: "Malte", code: "MT", phone: "+356", flag: "üá≤üáπ" },
  { name: "Maroc", code: "MA", phone: "+212", flag: "üá≤üá¶" },
  { name: "√éles Marshall", code: "MH", phone: "+692", flag: "üá≤üá≠" },
  { name: "Maurice", code: "MU", phone: "+230", flag: "üá≤üá∫" },
  { name: "Mauritanie", code: "MR", phone: "+222", flag: "üá≤üá∑" },
  { name: "Mexique", code: "MX", phone: "+52", flag: "üá≤üáΩ" },
  { name: "Micron√©sie", code: "FM", phone: "+691", flag: "üá´üá≤" },
  { name: "Moldavie", code: "MD", phone: "+373", flag: "üá≤üá©" },
  { name: "Monaco", code: "MC", phone: "+377", flag: "üá≤üá®" },
  { name: "Mongolie", code: "MN", phone: "+976", flag: "üá≤üá≥" },
  { name: "Mont√©n√©gro", code: "ME", phone: "+382", flag: "üá≤üá™" },
  { name: "Mozambique", code: "MZ", phone: "+258", flag: "üá≤üáø" },
  { name: "Namibie", code: "NA", phone: "+264", flag: "üá≥üá¶" },
  { name: "Nauru", code: "NR", phone: "+674", flag: "üá≥üá∑" },
  { name: "N√©pal", code: "NP", phone: "+977", flag: "üá≥üáµ" },
  { name: "Nicaragua", code: "NI", phone: "+505", flag: "üá≥üáÆ" },
  { name: "Niger", code: "NE", phone: "+227", flag: "üá≥üá™" },
  { name: "Nigeria", code: "NG", phone: "+234", flag: "üá≥üá¨" },
  { name: "Norv√®ge", code: "NO", phone: "+47", flag: "üá≥üá¥" },
  { name: "Nouvelle-Z√©lande", code: "NZ", phone: "+64", flag: "üá≥üáø" },
  { name: "Oman", code: "OM", phone: "+968", flag: "üá¥üá≤" },
  { name: "Ouganda", code: "UG", phone: "+256", flag: "üá∫üá¨" },
  { name: "Ouzb√©kistan", code: "UZ", phone: "+998", flag: "üá∫üáø" },
  { name: "Pakistan", code: "PK", phone: "+92", flag: "üáµüá∞" },
  { name: "Palaos", code: "PW", phone: "+680", flag: "üáµüáº" },
  { name: "Panama", code: "PA", phone: "+507", flag: "üáµüá¶" },
  { name: "Papouasie-Nouvelle-Guin√©e", code: "PG", phone: "+675", flag: "üáµüá¨" },
  { name: "Paraguay", code: "PY", phone: "+595", flag: "üáµüáæ" },
  { name: "Pays-Bas", code: "NL", phone: "+31", flag: "üá≥üá±" },
  { name: "P√©rou", code: "PE", phone: "+51", flag: "üáµüá™" },
  { name: "Philippines", code: "PH", phone: "+63", flag: "üáµüá≠" },
  { name: "Pologne", code: "PL", phone: "+48", flag: "üáµüá±" },
  { name: "Portugal", code: "PT", phone: "+351", flag: "üáµüáπ" },
  { name: "Qatar", code: "QA", phone: "+974", flag: "üá∂üá¶" },
  { name: "R√©publique dominicaine", code: "DO", phone: "+1", flag: "üá©üá¥" },
  { name: "R√©publique tch√®que", code: "CZ", phone: "+420", flag: "üá®üáø" },
  { name: "Roumanie", code: "RO", phone: "+40", flag: "üá∑üá¥" },
  { name: "Royaume-Uni", code: "GB", phone: "+44", flag: "üá¨üáß" },
  { name: "Russie", code: "RU", phone: "+7", flag: "üá∑üá∫" },
  { name: "Rwanda", code: "RW", phone: "+250", flag: "üá∑üáº" },
  { name: "Saint-Christophe-et-Ni√©v√®s", code: "KN", phone: "+1", flag: "üá∞üá≥" },
  { name: "Sainte-Lucie", code: "LC", phone: "+1", flag: "üá±üá®" },
  { name: "Saint-Marin", code: "SM", phone: "+378", flag: "üá∏üá≤" },
  { name: "Saint-Vincent-et-les-Grenadines", code: "VC", phone: "+1", flag: "üáªüá®" },
  { name: "Salomon", code: "SB", phone: "+677", flag: "üá∏üáß" },
  { name: "Salvador", code: "SV", phone: "+503", flag: "üá∏üáª" },
  { name: "Samoa", code: "WS", phone: "+685", flag: "üáºüá∏" },
  { name: "Sao Tom√©-et-Principe", code: "ST", phone: "+239", flag: "üá∏üáπ" },
  { name: "S√©n√©gal", code: "SN", phone: "+221", flag: "üá∏üá≥" },
  { name: "Serbie", code: "RS", phone: "+381", flag: "üá∑üá∏" },
  { name: "Seychelles", code: "SC", phone: "+248", flag: "üá∏üá®" },
  { name: "Sierra Leone", code: "SL", phone: "+232", flag: "üá∏üá±" },
  { name: "Singapour", code: "SG", phone: "+65", flag: "üá∏üá¨" },
  { name: "Slovaquie", code: "SK", phone: "+421", flag: "üá∏üá∞" },
  { name: "Slov√©nie", code: "SL", phone: "+386", flag: "üá∏üáÆ" },
  { name: "Somalie", code: "SO", phone: "+252", flag: "üá∏üá¥" },
  { name: "Soudan", code: "SD", phone: "+249", flag: "üá∏üá©" },
  { name: "Soudan du Sud", code: "SS", phone: "+211", flag: "üá∏üá∏" },
  { name: "Sri Lanka", code: "LK", phone: "+94", flag: "üá±üá∞" },
  { name: "Su√®de", code: "SE", phone: "+46", flag: "üá∏üá™" },
  { name: "Suisse", code: "CH", phone: "+41", flag: "üá®üá≠" },
  { name: "Suriname", code: "SR", phone: "+597", flag: "üá∏üá∑" },
  { name: "Syrie", code: "SY", phone: "+963", flag: "üá∏üáæ" },
  { name: "Tadjikistan", code: "TJ", phone: "+992", flag: "üáπüáØ" },
  { name: "Tanzanie", code: "TZ", phone: "+255", flag: "üáπüáø" },
  { name: "Tchad", code: "TD", phone: "+235", flag: "üáπüá©" },
  { name: "Tha√Ølande", code: "TH", phone: "+66", flag: "üáπüá≠" },
  { name: "Timor oriental", code: "TL", phone: "+670", flag: "üáπüá±" },
  { name: "Togo", code: "TG", phone: "+228", flag: "üáπüá¨" },
  { name: "Tonga", code: "TO", phone: "+676", flag: "üáπüá¥" },
  { name: "Trinit√©-et-Tobago", code: "TT", phone: "+1", flag: "üáπüáπ" },
  { name: "Tunisie", code: "TN", phone: "+216", flag: "üáπüá≥" },
  { name: "Turkm√©nistan", code: "TM", phone: "+993", flag: "üáπüá≤" },
  { name: "Turquie", code: "TR", phone: "+90", flag: "üáπüá∑" },
  { name: "Tuvalu", code: "TV", phone: "+688", flag: "üáπüáª" },
  { name: "Ukraine", code: "UA", phone: "+380", flag: "üá∫üá¶" },
  { name: "Uruguay", code: "UY", phone: "+598", flag: "üá∫üáæ" },
  { name: "Vanuatu", code: "VU", phone: "+678", flag: "üáªüá∫" },
  { name: "Vatican", code: "VA", phone: "+39", flag: "üáªüá¶" },
  { name: "Venezuela", code: "VE", phone: "+58", flag: "üáªüá™" },
  { name: "Vi√™t Nam", code: "VN", phone: "+84", flag: "üáªüá≥" },
  { name: "Y√©men", code: "YE", phone: "+967", flag: "üáæüá™" },
  { name: "Zambie", code: "ZM", phone: "+260", flag: "üáøüá≤" },
  { name: "Zimbabwe", code: "ZW", phone: "+263", flag: "üáøüáº" },
  { name: "Afrique du Sud", code: "ZA", phone: "+27", flag: "üáøüá¶" },
];

// Fonction pour normaliser le nom d'un pays
export const normalizeCountryName = (name) => {
  if (!name) return '';
  
  // Convertir en minuscules
  const lower = name.toLowerCase();
  
  // Liste des mots qui doivent rester en minuscules sauf en premi√®re position
  const smallWords = ['de', 'du', 'des', 'la', 'le', 'les', 'et', '√†', 'en', 'sur', 'sous'];
  
  // S√©parer les mots
  const words = lower.split(' ');
  
  // Capitaliser chaque mot selon les r√®gles
  const normalizedWords = words.map((word, index) => {
    // Si c'est le premier mot ou un mot important, capitaliser
    if (index === 0 || !smallWords.includes(word)) {
      return word.charAt(0).toUpperCase() + word.slice(1);
    }
    return word;
  });
  
  // Cas sp√©ciaux pour les noms compos√©s
  let result = normalizedWords.join(' ');
  
  // Traiter les noms sp√©cifiques
  const specialCases = {
    'Etats-unis': '√âtats-Unis',
    'Royaume-uni': 'Royaume-Uni',
    'Nouvelle-zelande': 'Nouvelle-Z√©lande',
    'Coree du sud': 'Cor√©e du Sud',
    'Republique democratique du congo': 'R√©publique d√©mocratique du Congo',
    'Emirats arabes unis': '√âmirats arabes unis',
    'Arabie saoudite': 'Arabie saoudite',
    'Cote d\'ivoire': 'C√¥te d\'Ivoire',
    'Burkina faso': 'Burkina Faso',
  };
  
  // V√©rifier les cas sp√©ciaux
  const lowerResult = result.toLowerCase();
  for (const [key, value] of Object.entries(specialCases)) {
    if (lowerResult === key) {
      return value;
    }
  }
  
  return result;
};

// Fonction pour trouver un pays par nom (avec recherche insensible √† la casse)
export const findCountryByName = (search) => {
  if (!search) return [];
  
  const normalizedSearch = normalizeCountryName(search);
  const lowerSearch = normalizedSearch.toLowerCase();
  
  return countries.filter(country => 
    country.name.toLowerCase().includes(lowerSearch) ||
    country.name.toLowerCase().startsWith(lowerSearch)
  ).slice(0, 10); // Limiter √† 10 r√©sultats
};

// Fonction pour obtenir le code t√©l√©phonique d'un pays
export const getPhoneCodeForCountry = (countryName) => {
  const normalized = normalizeCountryName(countryName);
  const country = countries.find(c => c.name === normalized);
  return country ? country.phone : "+229"; // Par d√©faut B√©nin
};